@tailwind base;
@tailwind components;
@tailwind utilities;

/* TV-optimized base styles */
@layer base {
  /* Light mode (default) */
  :root {
    --tv-min-font-size: 24px;
    --tv-focus-ring-width: 4px;
    --tv-focus-ring-color: rgba(14, 165, 233, 0.5);
    
    /* Light theme colors */
    --tv-bg: #f8fafc;
    --tv-surface: #f1f5f9;
    --tv-card: #ffffff;
    --tv-border: #e2e8f0;
    --tv-hover: #f1f5f9;
    --tv-text: #1e293b;
    --tv-text-secondary: #64748b;
  }

  /* Dark mode */
  .dark {
    --tv-bg: #0a0a0f;
    --tv-surface: #141420;
    --tv-card: #1e1e2e;
    --tv-border: #2a2a3e;
    --tv-hover: #2e2e42;
    --tv-text: #ffffff;
    --tv-text-secondary: #9ca3af;
  }

  /* Ensure minimum font size for TV readability */
  html {
    font-size: 16px;
  }

  body {
    @apply bg-tv-bg antialiased;
    color: var(--tv-text);
    min-height: 100vh;
  }

  /* Remove default focus outlines, we'll use custom ones */
  *:focus {
    outline: none;
  }

  /* TV Browser D-pad focus support */
  button:focus,
  a:focus,
  [tabindex="0"]:focus,
  [data-focusable="true"]:focus {
    outline: 4px solid var(--tv-focus-ring-color) !important;
    outline-offset: 2px;
  }

  /* Smooth scrolling for TV */
  html {
    scroll-behavior: smooth;
  }
}

@layer components {
  /* TV-friendly focusable element base */
  .tv-focusable {
    @apply transition-all duration-200 ease-out;
    @apply focus:ring-tv focus:ring-primary-500 focus:shadow-tv-focus;
    @apply focus:scale-105;
  }

  /* TV button base styles */
  .tv-button {
    @apply tv-focusable;
    @apply px-tv-4 py-tv-2;
    @apply text-tv-base font-medium;
    @apply bg-tv-card;
    @apply rounded-tv border border-tv-border;
    @apply cursor-pointer;
    color: var(--tv-text);
  }

  .tv-button:hover {
    background-color: var(--tv-hover);
  }

  /* TV card component */
  .tv-card {
    @apply bg-tv-card rounded-tv-lg border border-tv-border;
    @apply p-tv-3;
    color: var(--tv-text);
  }

  /* TV text sizes */
  .tv-text-xs { @apply text-tv-xs; }
  .tv-text-sm { @apply text-tv-sm; }
  .tv-text-base { @apply text-tv-base; }
  .tv-text-lg { @apply text-tv-lg; }
  .tv-text-xl { @apply text-tv-xl; }
  .tv-text-2xl { @apply text-tv-2xl; }
  .tv-text-3xl { @apply text-tv-3xl; }
  .tv-text-4xl { @apply text-tv-4xl; }

  /* Text color utilities for theme */
  .text-secondary {
    color: var(--tv-text-secondary);
  }
}

@layer utilities {
  /* Karaoke text highlight animation */
  .karaoke-highlight {
    @apply text-accent-yellow;
    text-shadow: 0 0 10px rgba(234, 179, 8, 0.5);
  }

  /* Glow effect for active elements */
  .tv-glow {
    @apply shadow-tv-glow;
  }

  /* Hide scrollbar for TV interface */
  .hide-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .hide-scrollbar::-webkit-scrollbar {
    display: none;
  }

  /* Animation utilities for notifications */
  .animate-fade-in {
    animation: fadeIn 0.2s ease-out forwards;
  }

  .animate-fade-out {
    animation: fadeOut 0.2s ease-out forwards;
  }

  .animate-slide-in-right {
    animation: slideInRight 0.3s ease-out forwards;
  }

  .animate-slide-out-right {
    animation: slideOutRight 0.2s ease-out forwards;
  }

  .animate-slide-in-left {
    animation: slideInLeft 0.3s ease-out forwards;
  }

  .animate-slide-out-left {
    animation: slideOutLeft 0.2s ease-out forwards;
  }

  .animate-slide-in-up {
    animation: slideInUp 0.3s ease-out forwards;
  }

  .animate-slide-out-down {
    animation: slideOutDown 0.2s ease-out forwards;
  }

  .animate-zoom-in {
    animation: zoomIn 0.2s ease-out forwards;
  }

  .animate-zoom-out {
    animation: zoomOut 0.2s ease-out forwards;
  }

  .animate-scale-in {
    animation: scaleIn 0.15s ease-out forwards;
  }

  .animate-focus-pulse {
    animation: focusPulse 1.5s ease-in-out infinite;
  }
}

/* Keyframe animations */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(100%);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideOutRight {
  from {
    opacity: 1;
    transform: translateX(0);
  }
  to {
    opacity: 0;
    transform: translateX(100%);
  }
}

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-100%);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideOutLeft {
  from {
    opacity: 1;
    transform: translateX(0);
  }
  to {
    opacity: 0;
    transform: translateX(-100%);
  }
}

@keyframes slideInUp {
  from {
    opacity: 0;
    transform: translateY(50px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideOutDown {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(50px);
  }
}

@keyframes zoomIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes zoomOut {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.9);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.8);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes focusPulse {
  0%, 100% {
    box-shadow: 0 0 0 4px rgba(14, 165, 233, 0.3);
  }
  50% {
    box-shadow: 0 0 0 6px rgba(14, 165, 233, 0.5);
  }
}

/* Confetti animation for high scores */
@keyframes confetti {
  0% {
    transform: translateY(0) rotate(0deg) scale(1);
    opacity: 1;
  }
  50% {
    opacity: 1;
  }
  100% {
    transform: translateY(100vh) rotate(720deg) scale(0.5);
    opacity: 0;
  }
}

.animate-confetti {
  animation: confetti 3s ease-out forwards;
}

/* Firework burst animation */
@keyframes firework {
  0% {
    transform: rotate(var(--rotation, 0deg)) translateY(0) scale(1);
    opacity: 1;
  }
  100% {
    transform: rotate(var(--rotation, 0deg)) translateY(-80px) scale(0);
    opacity: 0;
  }
}

.animate-firework {
  animation: firework 1s ease-out forwards;
}

/* Rising star animation */
@keyframes riseStar {
  0% {
    transform: translateY(0) scale(0.5);
    opacity: 0;
  }
  20% {
    opacity: 1;
    transform: translateY(-50px) scale(1);
  }
  100% {
    transform: translateY(-400px) scale(0.3);
    opacity: 0;
  }
}

.animate-rise-star {
  animation: riseStar 4s ease-out forwards;
}

/* Floating music note animation */
@keyframes floatNote {
  0%, 100% {
    transform: translateY(0) rotate(0deg);
  }
  25% {
    transform: translateY(-20px) rotate(10deg);
  }
  50% {
    transform: translateY(-10px) rotate(-5deg);
  }
  75% {
    transform: translateY(-30px) rotate(5deg);
  }
}

.animate-float-note {
  animation: floatNote 5s ease-in-out infinite;
}

/* Sparkle animation for medium scores */
@keyframes sparkle {
  0%, 100% {
    opacity: 0;
    transform: scale(0);
  }
  50% {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-sparkle {
  animation: sparkle 2s ease-in-out infinite;
}

/* Float up animation for encouragement */
@keyframes floatUp {
  0% {
    opacity: 0;
    transform: translateY(0) scale(0.5);
  }
  20% {
    opacity: 1;
    transform: translateY(-20px) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateY(-150px) scale(0.8);
  }
}

.animate-float-up {
  animation: floatUp 4s ease-out infinite;
}

/* Shooting star animation */
@keyframes shootingStar {
  0% {
    transform: translateX(-100px) translateY(100px) rotate(-45deg);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  100% {
    transform: translateX(200px) translateY(-200px) rotate(-45deg);
    opacity: 0;
  }
}

.animate-shooting-star {
  animation: shootingStar 2s ease-out forwards;
}

/* Pulse ring animation */
@keyframes pulseRing {
  0% {
    transform: scale(0.8);
    opacity: 1;
  }
  100% {
    transform: scale(2);
    opacity: 0;
  }
}

.animate-pulse-ring {
  animation: pulseRing 1.5s ease-out infinite;
}

/* Bounce in animation */
@keyframes bounceIn {
  0% {
    transform: scale(0);
    opacity: 0;
  }
  50% {
    transform: scale(1.2);
  }
  70% {
    transform: scale(0.9);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}

.animate-bounce-in {
  animation: bounceIn 0.6s ease-out forwards;
}

/* Rotate glow animation */
@keyframes rotateGlow {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

.animate-rotate-glow {
  animation: rotateGlow 8s linear infinite;
}

/* Shimmer animation */
@keyframes shimmer {
  0% {
    background-position: -200% center;
  }
  100% {
    background-position: 200% center;
  }
}

.animate-shimmer {
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}

/* Floating bubble animation */
@keyframes floatBubble {
  0% {
    transform: translateY(0) scale(1);
    opacity: 0.7;
  }
  50% {
    transform: translateY(-100px) scale(1.1);
    opacity: 0.5;
  }
  100% {
    transform: translateY(-200px) scale(0.8);
    opacity: 0;
  }
}

.animate-float-bubble {
  animation: floatBubble 4s ease-out forwards;
}

/* Spiral animation */
@keyframes spiral {
  0% {
    transform: rotate(0deg) translateX(0) scale(1);
    opacity: 1;
  }
  100% {
    transform: rotate(720deg) translateX(100px) scale(0);
    opacity: 0;
  }
}

.animate-spiral {
  animation: spiral 3s ease-out forwards;
}

/* Rainbow text animation */
@keyframes rainbowText {
  0% { color: #ff6b6b; }
  16% { color: #ffd93d; }
  33% { color: #6bcb77; }
  50% { color: #4d96ff; }
  66% { color: #9b59b6; }
  83% { color: #ff6bd6; }
  100% { color: #ff6b6b; }
}

.animate-rainbow {
  animation: rainbowText 3s linear infinite;
}

/* Explosion animation */
@keyframes explosion {
  0% {
    transform: scale(0) rotate(0deg);
    opacity: 1;
  }
  50% {
    opacity: 1;
  }
  100% {
    transform: scale(3) rotate(180deg);
    opacity: 0;
  }
}

.animate-explosion {
  animation: explosion 1s ease-out forwards;
}

/* Twinkle animation */
@keyframes twinkle {
  0%, 100% {
    opacity: 0.3;
    transform: scale(0.8);
  }
  50% {
    opacity: 1;
    transform: scale(1.2);
  }
}

.animate-twinkle {
  animation: twinkle 1.5s ease-in-out infinite;
}

/* Wave animation */
@keyframes wave {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-15px);
  }
}

.animate-wave {
  animation: wave 1s ease-in-out infinite;
}


/* New animations for result screen */
@keyframes floatParticle {
  0%, 100% {
    transform: translateY(0) rotate(0deg) scale(1);
    opacity: 0.7;
  }
  25% {
    transform: translateY(-30px) rotate(90deg) scale(1.1);
    opacity: 1;
  }
  50% {
    transform: translateY(-15px) rotate(180deg) scale(0.9);
    opacity: 0.8;
  }
  75% {
    transform: translateY(-40px) rotate(270deg) scale(1.05);
    opacity: 0.9;
  }
}

.animate-float-particle {
  animation: floatParticle 5s ease-in-out infinite;
}

@keyframes pulseSlow {
  0%, 100% {
    opacity: 0.3;
    transform: translate(-50%, -50%) scale(1);
  }
  50% {
    opacity: 0.5;
    transform: translate(-50%, -50%) scale(1.1);
  }
}

.animate-pulse-slow {
  animation: pulseSlow 4s ease-in-out infinite;
}

@keyframes spinSlow {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

.animate-spin-slow {
  animation: spinSlow 8s linear infinite;
}

@keyframes spinReverse {
  from {
    transform: rotate(360deg);
  }
  to {
    transform: rotate(0deg);
  }
}

.animate-spin-reverse {
  animation: spinReverse 6s linear infinite;
}

@keyframes gradientShift {
  0%, 100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

.animate-gradient-shift {
  background-size: 200% 200%;
  animation: gradientShift 3s ease infinite;
}

/* Glow text effect */
.glow-text {
  animation: glowPulse 2s ease-in-out infinite;
}

@keyframes glowPulse {
  0%, 100% {
    filter: drop-shadow(0 0 20px currentColor);
  }
  50% {
    filter: drop-shadow(0 0 40px currentColor);
  }
}


/* Rising bubble animation */
@keyframes riseBubble {
  0% {
    transform: translateY(0) scale(1);
    opacity: 0.3;
  }
  50% {
    opacity: 0.5;
  }
  100% {
    transform: translateY(-100vh) scale(0.5);
    opacity: 0;
  }
}

.animate-rise-bubble {
  animation: riseBubble 5s ease-out infinite;
}

/* Twinkle star animation */
@keyframes twinkle {
  0%, 100% {
    opacity: 0.2;
    transform: scale(0.8);
  }
  50% {
    opacity: 1;
    transform: scale(1.2);
  }
}

.animate-twinkle {
  animation: twinkle 2s ease-in-out infinite;
}

/* Shooting star animation */
@keyframes shootingStar {
  0% {
    transform: translateX(-100px) translateY(50px);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  100% {
    transform: translateX(calc(100vw + 100px)) translateY(-100px);
    opacity: 0;
  }
}

.animate-shooting-star {
  animation: shootingStar 3s ease-out infinite;
}

/* Float up animation */
@keyframes floatUpAnim {
  0% {
    transform: translateY(0) scale(1);
    opacity: 0.5;
  }
  100% {
    transform: translateY(-200px) scale(0.5);
    opacity: 0;
  }
}

.animate-float-up {
  animation: floatUpAnim 4s ease-out infinite;
}

/* Score display animations */
@keyframes pingSlow {
  0% {
    transform: scale(1);
    opacity: 0.4;
  }
  100% {
    transform: scale(1.8);
    opacity: 0;
  }
}

.animate-ping-slow {
  animation: pingSlow 2s ease-out infinite;
}

@keyframes burstOut {
  0% {
    transform: translate(0, 0) scale(1);
    opacity: 1;
  }
  100% {
    transform: translate(var(--burst-x, 50px), var(--burst-y, 0)) scale(0);
    opacity: 0;
  }
}

.animate-burst-out {
  animation: burstOut 0.8s ease-out forwards;
}

@keyframes crownDrop {
  0% {
    transform: translateX(-50%) translateY(-50px) scale(0) rotate(-30deg);
    opacity: 0;
  }
  50% {
    transform: translateX(-50%) translateY(10px) scale(1.2) rotate(10deg);
    opacity: 1;
  }
  70% {
    transform: translateX(-50%) translateY(-5px) scale(0.9) rotate(-5deg);
  }
  100% {
    transform: translateX(-50%) translateY(0) scale(1) rotate(0deg);
    opacity: 1;
  }
}

.animate-crown-drop {
  animation: crownDrop 0.8s ease-out forwards;
}

@keyframes scoreGlow {
  0%, 100% {
    filter: drop-shadow(0 0 20px currentColor);
  }
  50% {
    filter: drop-shadow(0 0 40px currentColor) drop-shadow(0 0 60px currentColor);
  }
}

.animate-score-glow {
  animation: scoreGlow 1.5s ease-in-out infinite;
}

@keyframes bounceSubtle {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-5px);
  }
}

.animate-bounce-subtle {
  animation: bounceSubtle 1s ease-in-out infinite;
}

@keyframes textShimmer {
  0% {
    background-position: -200% center;
  }
  100% {
    background-position: 200% center;
  }
}

.animate-text-shimmer {
  background: linear-gradient(90deg, currentColor 40%, rgba(255,255,255,0.8) 50%, currentColor 60%);
  background-size: 200% auto;
  -webkit-background-clip: text;
  background-clip: text;
  animation: textShimmer 3s linear infinite;
}
